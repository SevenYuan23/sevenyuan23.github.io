<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>SevenYuan23/Blog</title>
  
  
  <link href="https://www.sevenyuan23.me/atom.xml" rel="self"/>
  
  <link href="https://www.sevenyuan23.me/"/>
  <updated>2020-04-05T18:18:08.000Z</updated>
  <id>https://www.sevenyuan23.me/</id>
  
  <author>
    <name>SevenYuan23</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Sigil电子书制作笔记</title>
    <link href="https://www.sevenyuan23.me/posts/614572fb.html"/>
    <id>https://www.sevenyuan23.me/posts/614572fb.html</id>
    <published>2020-04-04T11:08:35.000Z</published>
    <updated>2020-04-05T18:18:08.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h3><h4 id="Sigil-amp-PageEdit"><a href="#Sigil-amp-PageEdit" class="headerlink" title="Sigil &amp; PageEdit"></a>Sigil &amp; PageEdit</h4><p>Sigil和PageEdit为Epub制作流程中使用的主要工具。安装完这两个软件后，需要将PageEdit设置为默认的外部xhtml编辑器。如图所示，依次点击菜单栏中的【编辑】-【配置】，并在弹出的窗口中【常规配置中】，填入刚刚安装的PageEdit执行文件地址：</p><p><img src="http://ww1.sinaimg.cn/large/6bb67c68gy1gdjg0zawlxj21jk0ttdvu.jpg" alt="设置默认xhtml编辑器"></p><p>Sigil 下载地址：<a href="https://github.com/Sigil-Ebook/Sigil/releases" target="_blank" rel="noopener">GitHub Release</a>；PageEdit 下载地址：<a href="https://github.com/Sigil-Ebook/PageEdit/releases" target="_blank" rel="noopener">GitHub Release</a></p><h4 id="排版助手"><a href="#排版助手" class="headerlink" title="排版助手"></a>排版助手</h4><h4 id="Calibre"><a href="#Calibre" class="headerlink" title="Calibre"></a>Calibre</h4><h3 id="制作流程"><a href="#制作流程" class="headerlink" title="制作流程"></a>制作流程</h3><h4 id="源文件准备"><a href="#源文件准备" class="headerlink" title="源文件准备"></a>源文件准备</h4><p>对于常见的书籍，需要准备的主要源文件有：（1）正文文本（2）书籍封面（3）插图</p><h4 id="文本校对-amp-排版"><a href="#文本校对-amp-排版" class="headerlink" title="文本校对 &amp; 排版"></a>文本校对 &amp; 排版</h4><p>在正式制作电子书之前，最好先进行文本的校对和排版，否则将文本导入电子书后，再想对文本内容进行修改，尤其是需要使用搜索替换的方法进行批量修改时，容易受到HTML标记的影响。</p><h4 id="元数据编辑"><a href="#元数据编辑" class="headerlink" title="元数据编辑"></a>元数据编辑</h4><h4 id="添加封面"><a href="#添加封面" class="headerlink" title="添加封面"></a>添加封面</h4><h4 id="制作目录"><a href="#制作目录" class="headerlink" title="制作目录"></a>制作目录</h4><h4 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h4><h4 id="插图"><a href="#插图" class="headerlink" title="插图"></a>插图</h4><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><h4 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h4><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;常用工具&quot;&gt;&lt;a href=&quot;#常用工具&quot; class=&quot;headerlink&quot; title=&quot;常用工具&quot;&gt;&lt;/a&gt;常用工具&lt;/h3&gt;&lt;h4 id=&quot;Sigil-amp-PageEdit&quot;&gt;&lt;a href=&quot;#Sigil-amp-PageEdit&quot; class=&quot;</summary>
      
    
    
    
    <category term="电子书" scheme="https://www.sevenyuan23.me/categories/电子书/"/>
    
    
    <category term="电子书" scheme="https://www.sevenyuan23.me/tags/电子书/"/>
    
    <category term="epub" scheme="https://www.sevenyuan23.me/tags/epub/"/>
    
    <category term="mobi" scheme="https://www.sevenyuan23.me/tags/mobi/"/>
    
    <category term="kindle" scheme="https://www.sevenyuan23.me/tags/kindle/"/>
    
  </entry>
  
  <entry>
    <title>【自制精排电子书】古典部系列·冰菓-米泽穗信</title>
    <link href="https://www.sevenyuan23.me/posts/db10e43d.html"/>
    <id>https://www.sevenyuan23.me/posts/db10e43d.html</id>
    <published>2018-08-14T14:16:52.000Z</published>
    <updated>2021-08-22T10:08:09.665Z</updated>
    
    <content type="html"><![CDATA[<p>其实是很久之前制作的了，原帖首发在<a href="http://tieba.baidu.com/p/4452674847?pid=86833084219&amp;cid=0#86833084219" target="_blank" rel="noopener">贴吧</a>，在这里也发一份好了。</p><p>先贴一段关于《古典部系列》的介绍，感谢<a href="https://zh.moegirl.org/zh-hans/%E5%86%B0%E8%8F%93" target="_blank" rel="noopener">萌娘百科</a>：</p><blockquote><p>〈古典部〉系列是一部关于少年推理的作品。在一群正要展开「蔷薇色」高中生活的高中生中，本作的男主角折木奉太郎却是一个「灰色」的节能主义者，即凡没必要的事不做，因为不想后悔，有人说他疏离、厌世也没所谓，因为这就是他的作风。这样的他，却因为姐姐的命令而进入了濒临废社的「古籍研究社」，虽然好不容易招到了四名新社员，但却又卷入了四十五年前社长突然退学的谜团之中。而社长当年留下命名为「冰菓」的社刊，内里究竟又隐藏了什么引人落泪的讯息……</p></blockquote><p>《冰菓》是这个系列的第一部作品，目前发售的中文版还有《愚者的片尾》，《库特利亚芙卡的排序》，《绕远路的雏人偶》，《两人距离的概算》共五部。</p><p>电子书使用sigil制作，也欢迎各位使用我的样式表&amp;模板，可以自己解包或者给我发送邮件（<a href="mailto:sevenyuan23@gmail.com" target="_blank" rel="noopener">sevenyuan23@gmail.com</a>），关于电子书制作的相关问题也可以发邮件给我反馈。</p><p>电子书预览如下图所示，点击可查看大图：</p><div class="mygallery justified-gallery"><br><img src="https://i.loli.net/2021/08/22/xtFgwY1IT4iAdLM.jpg" alt="封面"><br><img src="https://i.loli.net/2021/08/22/bJwWAhdg2zU73Yo.jpg" alt="扉页"><br><img src="https://i.loli.net/2021/08/22/6Vn2jhEGFexSc85.jpg" alt="目录"><br><img src="https://i.loli.net/2021/08/22/xtgCW1pkQYvImG2.jpg" alt="章节封面"><br><img src="https://i.loli.net/2021/08/22/qMRpvQBgmrYbTHe.jpg" alt="正文1"><br><img src="https://i.loli.net/2021/08/22/Bu6XkpIsVFj1Lly.jpg" alt="正文2"><br><img src="https://i.loli.net/2021/08/22/1lRr4YJStxip73C.jpg" alt="制作信息"><br></div><p>下载：<a href="https://pan.baidu.com/s/1pawyhLHeeefTfwuLbF1JCQ" target="_blank" rel="noopener">百度盘地址</a>（ 提取码: q3it）<strong>链接失效请在评论区反馈</strong>。</p><p>解压密码：sevenyuan23</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;其实是很久之前制作的了，原帖首发在&lt;a href=&quot;http://tieba.baidu.com/p/4452674847?pid=86833084219&amp;amp;cid=0#86833084219&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;贴吧&lt;/a</summary>
      
    
    
    
    <category term="电子书" scheme="https://www.sevenyuan23.me/categories/电子书/"/>
    
    
    <category term="电子书" scheme="https://www.sevenyuan23.me/tags/电子书/"/>
    
    <category term="epub" scheme="https://www.sevenyuan23.me/tags/epub/"/>
    
    <category term="mobi" scheme="https://www.sevenyuan23.me/tags/mobi/"/>
    
    <category term="kindle" scheme="https://www.sevenyuan23.me/tags/kindle/"/>
    
  </entry>
  
  <entry>
    <title>Hexo/Icarus配置记录</title>
    <link href="https://www.sevenyuan23.me/posts/e5d00308.html"/>
    <id>https://www.sevenyuan23.me/posts/e5d00308.html</id>
    <published>2018-08-12T02:37:59.000Z</published>
    <updated>2020-03-26T12:07:54.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="启用Categories-Tag-About页面"><a href="#启用Categories-Tag-About页面" class="headerlink" title="启用Categories, Tag, About页面"></a>启用Categories, Tag, About页面</h3><p>Icarus主题中启用这三个功能非常方便，只需将主题文件夹内的 <code>_sourse</code> 文件夹中的三个对应文件夹复制到根目录的 <code>source</code> 文件夹中，并且将主题配 <code>_config.yml</code> 对应内容改为如下即可：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">menu</span>:</span><br><span class="line"><span class="selector-tag">Home</span>: .</span><br><span class="line"><span class="selector-tag">Archives</span>: <span class="selector-tag">archives</span></span><br><span class="line"><span class="selector-tag">Categories</span>: <span class="selector-tag">categories</span></span><br><span class="line"><span class="selector-tag">Tags</span>: <span class="selector-tag">tags</span></span><br><span class="line"><span class="selector-tag">About</span>: <span class="selector-tag">about</span></span><br></pre></td></tr></table></figure><h3 id="使用圆形头像"><a href="#使用圆形头像" class="headerlink" title="使用圆形头像"></a>使用圆形头像</h3><p>Icarus的profile页面上默认使用了方形头像，当然也可以自己使用软件将头像裁切为圆形，但是这样的话每次更换头像都要重复这个过程，略显繁琐。因此可以使用css中的<code>border-radius</code>属性，将头像显示为圆形。<br>具体操作：打开Icarus的主题文件夹，定位到<code>icarus/source/css/_partial/profile.styl</code>文件，修改如下部分：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#avatar</span></span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">block</span></span><br><span class="line">    <span class="selector-tag">margin</span>: 10<span class="selector-tag">px</span> <span class="selector-tag">auto</span> 20<span class="selector-tag">px</span></span><br><span class="line">    <span class="selector-tag">width</span>: <span class="selector-tag">profile-avatar-size</span></span><br><span class="line">    <span class="selector-tag">height</span>: <span class="selector-tag">profile-avatar-size</span></span><br><span class="line">    border-radius: (profile-avatar-size/2) /* 增加 border-radius属性 */</span><br></pre></td></tr></table></figure><p>以及修改<code>header.styl</code>文件：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.avatar</span></span><br><span class="line">    <span class="selector-tag">width</span>: <span class="selector-tag">logo-height</span></span><br><span class="line">    <span class="selector-tag">height</span>: <span class="selector-tag">logo-height</span></span><br><span class="line">    <span class="selector-tag">margin-right</span>: 8<span class="selector-tag">px</span></span><br><span class="line">    border-radius: (logo-height/2) /* 增加border-radius属性 */</span><br></pre></td></tr></table></figure><h3 id="增加版权说明"><a href="#增加版权说明" class="headerlink" title="增加版权说明"></a>增加版权说明</h3><p>这一部分是参考了网上的教程：<a href="http://okbtm.com/archives/ead2b478.html" target="_blank" rel="noopener">为Hexo icarus添加版权说明</a>，效果可拉至页尾查看。</p><h3 id="自动添加-Readmore"><a href="#自动添加-Readmore" class="headerlink" title="自动添加 Readmore"></a>自动添加 Readmore</h3><p>这一功能也是根据网上的教程实现的：<a href="https://blog.zthxxx.me/posts/Hexo-Automatic-Add-ReadMore/" target="_blank" rel="noopener">Hexo 自动给博文添加 ReadMore</a>，由于教程中Readmore按钮的设置与主题默认的不太一样，为了保持美观，需要在<code>article.styl</code>文件中增加一条<code>margin</code>的设置：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-more-link</span> <span class="selector-tag">a</span></span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">inline-block</span></span><br><span class="line">    <span class="selector-tag">line-height</span>: 1<span class="selector-tag">em</span></span><br><span class="line">    <span class="selector-tag">padding</span>: 6<span class="selector-tag">px</span> 15<span class="selector-tag">px</span></span><br><span class="line">    <span class="selector-tag">margin</span>: 0 0 <span class="selector-tag">article-padding</span> <span class="selector-tag">article-padding</span> <span class="comment">/*增加margin的设置*/</span></span><br><span class="line">    <span class="selector-tag">border-radius</span>: 15<span class="selector-tag">px</span></span><br><span class="line">    <span class="selector-tag">background</span>: <span class="selector-tag">color-background</span></span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-tag">color-grey</span></span><br><span class="line">    <span class="selector-tag">text-shadow</span>: 0 1<span class="selector-tag">px</span> <span class="selector-id">#fff</span></span><br><span class="line">    <span class="selector-tag">text-decoration</span>: <span class="selector-tag">none</span></span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span></span><br><span class="line">        <span class="selector-tag">background</span>: <span class="selector-tag">color-link</span></span><br><span class="line">        <span class="selector-tag">color</span>: <span class="selector-id">#fff</span></span><br><span class="line">        <span class="selector-tag">text-decoration</span>: <span class="selector-tag">none</span></span><br><span class="line">        <span class="selector-tag">text-shadow</span>: 0 1<span class="selector-tag">px</span> <span class="selector-tag">darken</span>(<span class="selector-tag">color-link</span>, 20%)</span><br></pre></td></tr></table></figure><h3 id="Valine评论系统"><a href="#Valine评论系统" class="headerlink" title="Valine评论系统"></a>Valine评论系统</h3><h4 id="介绍-amp-基本设置"><a href="#介绍-amp-基本设置" class="headerlink" title="介绍 &amp; 基本设置"></a>介绍 &amp; 基本设置</h4><blockquote><p>Valine 诞生于2017年8月7日，是一款基于Leancloud的快速、简洁且高效的无后端评论系统。</p></blockquote><p>Icarus支持多种评论系统的接入，具体可看主题的配置文件，经过评估，我认为Valine更符合我的需求，原因如下：</p><ul><li>相比于Disqus等国外平台，不需要翻墙即可留言</li><li>相对于畅言等国内平台不用担心由于各种原因停止服务，比如多说，网易云跟帖等</li><li>无需登录直接留言</li></ul><p>在Icarus主题中使用Valine评论系统只需在主题的配置文件中将相应的配置填好即可, appid等设置可参照<a href="https://valine.js.org/quickstart.html" target="_blank" rel="noopener">官网的介绍</a>。值得一提的是，设置配置文件时，即使有些功能不需要开启，也不能空在那，而是要填上<code>false</code>，否则评论插件无法加载。</p><h4 id="使用最新版本的-Valine"><a href="#使用最新版本的-Valine" class="headerlink" title="使用最新版本的 Valine"></a>使用最新版本的 Valine</h4><p>Icarus的模板文件中使用了旧版本的Valine，相比于最新版本，缺少了Markdown，emoji等功能，因此我们可以在模板文件<code>valine.ejs</code>中，</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">将如下语句</span><br><span class="line">&lt;script src=<span class="string">"//cdn.jsdelivr.net/gh/xcss/valine@v1.1.6/dist/Valine.min.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">替换为：</span></span><br><span class="line"><span class="regexp">&lt;script src='/</span><span class="regexp">/unpkg.com/</span>valine/dist/Valine.min.js<span class="string">'&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>重新生成部署后即可看到新版的Valine评论系统。</p><h4 id="使用Valine-admin-实现评论管理和邮件提醒"><a href="#使用Valine-admin-实现评论管理和邮件提醒" class="headerlink" title="使用Valine-admin 实现评论管理和邮件提醒"></a>使用Valine-admin 实现评论管理和邮件提醒</h4><p>Valine自带的评论管理和邮件提醒功能有很多缺点：</p><blockquote><ul><li>发送次数过多，可能会暂时被Leancloud 屏蔽邮件发送功能</li><li>由于邮件提醒功能使用的Leancloud的密码重置邮件提醒，只能传递昵称、邮箱两个属性，所以邮件提醒链接无法直达指定文章页。</li><li>开启邮件提醒会默认开启验证码选项。</li><li>目前邮件提醒正处于测试阶段，仅在子级对存在邮件地址的父级发表评论时发送邮件</li></ul></blockquote><p>除了上述官网所列出的注意事项外，由于使用了leancloud的邮箱发送，邮件可能会被识别为垃圾邮件或者广告邮件从而可能收不到提醒；对于评论管理，也只能在leancloud的后台界面对数据库进行操作，基于以上原因，我选择了Valine-admin实现评论管理和邮件提醒。<br>具体的设置按照<a href="https://panjunwen.com/diy-a-comment-system/" target="_blank" rel="noopener">作者的介绍</a>操作即可。需要注意的是在leancloud中设置了环境变量后，需要手动重启实例使设置生效：<br><img src="http://ww1.sinaimg.cn/large/6bb67c68gy1gd7l4cjbzzj20ho07ldid.jpg" alt="手动重启"><br>设置完成后即可实现评论管理和邮件提醒的功能，而且可以<strong>不用开启验证码选项</strong>，Valine的验证码实在是有点反人类！<br>邮件提醒的效果：<br><img src="http://ww1.sinaimg.cn/large/6bb67c68gy1gd7l4ch0k5j20kh09racm.jpg" alt="邮件提醒"><br>评论管理界面：<br><img src="http://ww1.sinaimg.cn/large/6bb67c68gy1gd7l4cg28bj20hz087wfn.jpg" alt="评论管理"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;启用Categories-Tag-About页面&quot;&gt;&lt;a href=&quot;#启用Categories-Tag-About页面&quot; class=&quot;headerlink&quot; title=&quot;启用Categories, Tag, About页面&quot;&gt;&lt;/a&gt;启用Categories</summary>
      
    
    
    
    <category term="Hexo" scheme="https://www.sevenyuan23.me/categories/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://www.sevenyuan23.me/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hello, World</title>
    <link href="https://www.sevenyuan23.me/posts/265b86c6.html"/>
    <id>https://www.sevenyuan23.me/posts/265b86c6.html</id>
    <published>2018-08-11T10:39:03.000Z</published>
    <updated>2020-03-26T12:45:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>欢迎来到SevenYuan23的博客！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;欢迎来到SevenYuan23的博客！&lt;/p&gt;
</summary>
      
    
    
    
    <category term="随笔" scheme="https://www.sevenyuan23.me/categories/随笔/"/>
    
    
  </entry>
  
</feed>
